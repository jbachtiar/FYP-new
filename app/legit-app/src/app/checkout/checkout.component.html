<div class="container">

  <div class="col-md-6">
    <div class="card">
      <div class="content">
        <div class="header">
          <h4 class="title">Your shipping address</h4>
        </div>

        <app-loading *ngIf="loading"></app-loading>
        <form *ngIf="!loading" name="form" (ngSubmit)="submit()" #f="ngForm" class="form" novalidate>

          <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !firstName.valid }">
            <label for="firstName">First Name</label>
            <input type="text" class="form-control" name="firstName" [(ngModel)]="user.firstName" #firstName="ngModel" required />
            <div *ngIf="f.submitted && !firstName.valid" class="help-block">First name is required</div>
          </div>

          <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !lastName.valid }">
            <label for="lastName">Last Name</label>
            <input type="text" class="form-control" name="lastName" [(ngModel)]="user.lastName" #lastName="ngModel" required />
            <div *ngIf="f.submitted && !lastName.valid" class="help-block">Last name is required</div>
          </div>
          <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !postCode.valid }">
            <label for="postCode">Postal Code</label>
            <input type="text" class="form-control" name="postCode" [(ngModel)]="user.postCode" #postCode="ngModel" required />
            <div *ngIf="f.submitted && !postCode.valid" class="help-block">Postal code is required</div>
          </div>
          <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !address.valid }">
            <label for="address">Address</label>
            <input type="text" class="form-control" name="address" [(ngModel)]="user.address" #address="ngModel" required />
            <div *ngIf="f.submitted && !address.valid" class="help-block">Address is required</div>
          </div>
          <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !contact.valid }">
            <label for="contact">Phone Number</label>
            <input type="text" class="form-control" name="contact" [(ngModel)]="user.contact" #contact="ngModel" required />
            <div *ngIf="f.submitted && !contact.valid" class="help-block">Phone number is required</div>
          </div>

          <input type="checkbox" [(ngModel)]="user.sameAddress" name="sameAddress" (ngModelChange)="sameAddress()">
          <label>Bill to the existing address</label>
          <br/>
          <div class="form-group" >
            <button class="button" >Continue</button>
          </div>

        </form>
      </div>
    </div>
  </div>

  <div class="col-md-6">
    <div class="card">
      <div class="content">
        <div class="header">
          <h4 class="title">Order Summary</h4>
        </div>
          <table>
            <tr>
              <th>Product</th>
              <th>Description</th>
              <th>Quantity</th>
              <th>Total</th>
              <th></th>
            </tr>
            <tr *ngFor="let item of cartItem">
              <td><img src="{{item.url}}" alt="..." class="img-product"><br/></td>
              <td class="product-title">
                <div class="pattern-name"> {{item.patternName}}</div>
                {{item.productId}}
                <br> 
                $ {{item.eachPrice}}.00
              </td>
              <td>
                <button class="change-qty" (click)="decrement(item.productId)">-</button> {{item.quantity}}
                <button class="change-qty" (click)="increment(item.productId)">+</button>
              </td>
              <td>
                $ {{item.quantity*item.eachPrice}}.00
              </td>
              <td>
                  <button class="change-qty" (click)="remove(item.productId)">x</button>
              </td>
            </tr>
            <tr style="border: 0px">
              <td colspan="3" style="text-align: right; font-size: 16px; font-weight: bold">Total Price</td>
              <td>$ {{shoppingCart.totalPrice}}.00</td>
              <td></td>
            </tr>
          </table>
                  
      </div>
    </div>



  </div>